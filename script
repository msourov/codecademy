from utils import print_message, get_size, order_latte,order_mocha
bill = []


def coffee_bot():
    print('Welcome to the cafe!')
    order_drink = 'y'
    drinks = []
    while order_drink == 'y':
        drink_type = get_drink_type()
        size, price = get_size(drink_type)
        global bill
        bill.append(price)
        if drink_type == 'mocha':
            add1, price1 = order_mocha()
            bill.append(price1)
        elif drink_type == 'latte':
            add1, price2 = order_latte()
            bill.append(price2)
        else:
            add1 = drink_type
        pay = sum(bill)
        drink = '{} {}'.format(size, add1)
        print('Alright, that\'s a {}!'.format(drink))
        print('That will cost {}$'.format(pay))
        drinks.append(drink)
        while 'y':
            order_drink = input('Would you like to order another drink? (y/n) \n>')
            if order_drink in ['y', 'n']:
                break
    name = input('Can I get your name please? \n> ')
    print('Please pay {} dollars'.format(pay))
    print('Thanks, {}! Your order will be ready shortly.'.format(name))
    print('Okay, so I have:\n')
    for i in drinks:
        print('-', i)


def get_drink_type():
    res = input('What type of drink would you like? \n'+
                '[a] Brewed Coffee \n[b] Mocha \n[c] Latte \n[d] Exit\n> ')

    if res == 'a':
        return 'brewed coffee'
    elif res == 'b':
        return 'mocha'
    elif res == 'c':
        return 'latte'
    elif res == 'd':
        exit()
    else:
        print_message()
        return get_drink_type()


# Define new functions here!
coffee_bot()
